!function e(t,n,s){function i(o,a){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(r)return r(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,s)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<s.length;o++)i(s[o]);return i}({"./js/index.js":[function(e){e("./routing")},{"./routing":"/Users/gregtatum/Dropbox/greg-sites/polar/js/routing.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/Components/Hid.js":[function(e,t){var n=e("../utils/EventDispatcher");window.HIDtype="keys";var s=function(e){this.poem=e;var t={up:!1,down:!1,left:!1,right:!1,spacebar:!1};this.keyCodes={k38:"up",k40:"down",k37:"left",k39:"right",k32:"spacebar"},this.tilt={x:0,y:0},this.pressed=_.clone(t),this.down=_.clone(t),this.up=_.clone(t),"keys"===window.HIDtype?this.setKeyHandlers():this.setTiltHandlers()};s.prototype={setKeyHandlers:function(){$(window).on("keydown.HID",this.keydown.bind(this)),$(window).on("keyup.HID",this.keyup.bind(this)),this.poem.on("destroy",function(){$(window).off("keydown.HID"),$(window).off("keyup.HID")})},setTiltHandlers:function(){$(window).on("deviceorientation.HID",this.handleTilt.bind(this)),$("canvas").on("touchstart.HID",this.handleTouchStart.bind(this)),$("canvas").on("touchend.HID",this.handleTouchEnd.bind(this)),this.poem.on("destroy",function(){$(window).off("deviceorientation.HID"),$("canvas").off("touchstart.HID"),$("canvas").off("touchend.HID")})},type:function(){return window.HIDtype},setKeys:function(){window.HIDtype="keys"},setTilt:function(){window.HIDtype="tilt"},keydown:function(e){var t=this.keyCodes["k"+e.keyCode];t&&(this.down[t]=!0,this.pressed[t]=!0)},keyup:function(e){var t=this.keyCodes["k"+e.keyCode];t&&(this.pressed[t]=!1,this.up[t]=!0)},handleTilt:function(e){var t,n,s;t=e.originalEvent,n=window.orientation||screen.orientation,s=_.isObject(screen.orientation)?screen.orientation.angle:_.isNumber(window.orientation)?window.orientation:0,this.tilt=0===s?{x:t.gamma,y:-1*t.beta}:s>0?{x:t.beta,y:t.gamma}:{x:-1*t.beta,y:-1*t.gamma}},handleTouchStart:function(e){e.preventDefault(),this.pressed.spacebar=!0},handleTouchEnd:function(e){var t=e.originalEvent.touches;this.pressed.spacebar=0!==t.length},update:function(){var e=function(e,t,n){n[t]=!1};return function(){_.each(this.down,e),_.each(this.up,e)}}()},n.prototype.apply(s.prototype),t.exports=s},{"../utils/EventDispatcher":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/EventDispatcher.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/Poem.js":[function(e,t){var n,s=e("./utils/Coordinates"),i=e("./components/Camera"),r=e("./managers/Gun"),o=e("./Ship"),a=e("./components/Stars"),u=(e("./managers/AsteroidField"),e("./utils/Stats")),l=e("./utils/EventDispatcher"),c=(e("./entities/JellyShip"),e("./managers/EntityManager"),e("./components/ScoringAndWinning")),h=e("./utils/Clock"),p=function(e){this.circumference=e.config.circumference||750,this.height=e.config.height||120,this.r=e.config.r||240,this.circumferenceRatio=2*Math.PI/this.circumference,this.ratio=window.devicePixelRatio>=1?window.devicePixelRatio:1,this.controls=void 0,this.div=document.getElementById("container"),this.scene=new THREE.Scene,this.requestedFrame=void 0,this.clock=new h,this.coordinates=new s(this),this.camera=new i(this,e.config),this.scene.fog=new THREE.Fog(2236962,this.camera.object.position.z/2,2*this.camera.object.position.z),this.gun=new r(this),this.ship=new o(this),this.stars=new a(this,e.config.stars),this.scoringAndWinning=new c(this,e.config.scoringAndWinning),this.parseLevel(e),this.dispatch({type:"levelParsed"}),n||this.addRenderer(),this.addEventListeners(),this.loop()};t.exports=p,p.prototype={parseLevel:function(e){_.each(e.objects,function(e,t){this[t]=_.isObject(e)?new e.object(this,e.properties):e},this)},addRenderer:function(){n=new THREE.WebGLRenderer({alpha:!0}),n.setSize(window.innerWidth,window.innerHeight),this.div.appendChild(n.domElement)},addStats:function(){this.stats=new u,this.stats.domElement.style.position="absolute",this.stats.domElement.style.top="0px",$("#container").append(this.stats.domElement)},addEventListeners:function(){$(window).on("resize",this.resizeHandler.bind(this))},resizeHandler:function(){this.camera.resize(),n.setSize(window.innerWidth,window.innerHeight)},loop:function(){this.requestedFrame=requestAnimationFrame(this.loop.bind(this)),this.update()},update:function(){this.dispatch({type:"update",dt:this.clock.getDelta(),time:this.clock.time}),n.render(this.scene,this.camera.object)},destroy:function(){window.cancelAnimationFrame(this.requestedFrame),this.dispatch({type:"destroy"})}},l.prototype.apply(p.prototype)},{"./Ship":"/Users/gregtatum/Dropbox/greg-sites/polar/js/Ship.js","./components/Camera":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Camera.js","./components/ScoringAndWinning":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/ScoringAndWinning.js","./components/Stars":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Stars.js","./entities/JellyShip":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/JellyShip.js","./managers/AsteroidField":"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/AsteroidField.js","./managers/EntityManager":"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/EntityManager.js","./managers/Gun":"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/Gun.js","./utils/Clock":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Clock.js","./utils/Coordinates":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Coordinates.js","./utils/EventDispatcher":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/EventDispatcher.js","./utils/Stats":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Stats.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/Ship.js":[function(e,t){var n=e("./components/Hid"),s=e("./components/Damage"),i=e("./utils/destroyMesh"),r=function(e){this.poem=e,this.scene=e.scene,this.polarObj=new THREE.Object3D,this.object=null,this.hid=new n(this.poem),this.color=4890087,this.linewidth=2*this.poem.ratio,this.radius=3,this.position=new THREE.Vector2,this.dead=!1,this.lives=3,this.invulnerable=!0,this.invulnerableLength=3e3,this.invulnerableTime=0+this.invulnerableLength,this.invulnerableflipFlop=!1,this.invulnerableflipFlopLength=100,this.invulnerableflipFlopTime=0,this.speed=0,this.edgeAvoidanceBankSpeed=.04,this.edgeAvoidanceThrustSpeed=.001,this.thrustSpeed=.001,this.thrust=0,this.bankSpeed=.06,this.bank=0,this.maxSpeed=500,this.addObject(),this.damage=new s(this.poem,this),this.poem.on("update",this.update.bind(this))};t.exports=r,r.prototype={createGeometry:function(){var e,t,n,s;return e=new THREE.Geometry,t=[[50,36.9],[39.8,59.6],[47.1,53.9],[50,57.5],[53,53.9],[60.2,59.6],[50,36.9]],n=_.reduce(t,function(e,t){return[e[0]+t[0],e[1]+t[1]]},[0,0]),s=[n[0]/t.length,n[1]/t.length],e.vertices=_.map(t,function(e){var t=.25;return new THREE.Vector3((e[1]-s[1])*t*-1,(e[0]-s[0])*t,0)}),e},addObject:function(){var e,t;e=this.createGeometry(),t=new THREE.LineBasicMaterial({color:this.color,linewidth:this.linewidth}),this.object=new THREE.Line(e,t,THREE.LineStrip),this.object.position.z+=this.poem.r,this.polarObj.add(this.object),this.reset(),this.scene.add(this.polarObj),this.poem.on("destroy",i(this.object))},disable:function(){this.dead=!0,this.object.visible=!1},kill:function(e){if(!e&&!this.dead&&!this.invulnerable){this.dead=!0,this.object.visible=!1,this.damage.explode();var t=Math.ceil(this.poem.scoringAndWinning.score/-2);this.poem.scoringAndWinning.adjustScore(t,t+" points",{"font-size":"2em",color:"red"}),setTimeout(function(){this.dead=!1,this.invulnerable=!0,this.invulnerableTime=this.poem.clock.time+this.invulnerableLength,this.object.visible=!0,this.reset()}.bind(this),2e3)}},reset:function(){this.position.x=0,this.position.y=0,this.speed=.2,this.bank=0},update:function(e){this.dead||(this.updateThrustAndBank(e),this.updateEdgeAvoidance(e),this.updatePosition(e),this.updateFiring(e),this.updateInvulnerability(e)),this.damage.update(e),this.hid.update(e)},updateInvulnerability:function(e){this.invulnerable&&(e.time<this.invulnerableTime?e.time>this.invulnerableflipFlopTime&&(this.invulnerableflipFlopTime=e.time+this.invulnerableflipFlopLength,this.invulnerableflipFlop=!this.invulnerableflipFlop,this.object.visible=this.invulnerableflipFlop):(this.object.visible=!0,this.invulnerable=!1))},updateThrustAndBank:function(e){var t,n,s,i;if(this.bank*=.9,this.thrust=0,"keys"===this.hid.type())t=this.hid.pressed,t.up&&(this.thrust+=this.thrustSpeed*e.dt),t.down&&(this.thrust-=this.thrustSpeed*e.dt),t.left&&(this.bank=this.bankSpeed),t.right&&(this.bank=-1*this.bankSpeed);else{n=this.hid.tilt;var r=Math.sqrt(n.x*n.x+n.y*n.y);this.thrust=Math.min(.0011,r/1e4),this.thrust*=e.dt,s=Math.atan2(n.y,n.x),i=(s-this.object.rotation.z)%(2*Math.PI),i>Math.PI?i-=2*Math.PI:i<-Math.PI&&(i+=2*Math.PI),this.bank=i*r/2500*e.dt}},updateEdgeAvoidance:function(){var e,t,n,s,i,r;t=this.poem.height/2,e=.8*t,n=this.object.position.y,r=Math.abs(n);this.object.rotation.z/Math.PI;if(this.object.rotation.z%=2*Math.PI,this.object.rotation.z<0&&(this.object.rotation.z+=2*Math.PI),Math.abs(n)>e){var o=this.object.rotation.z>=.5*Math.PI&&this.object.rotation.z<1.5*Math.PI;i=n>0?o?1:-1:o?-1:1,s=(r-e)/(t-e),this.thrust+=s*this.edgeAvoidanceThrustSpeed,this.object.rotation.z+=i*s*this.edgeAvoidanceBankSpeed}},updateFiring:function(){this.hid.pressed.spacebar&&this.poem.gun.fire(this.position.x,this.position.y,2,this.object.rotation.z)},updatePosition:function(){new THREE.Vector3;return function(){var e;this.object.rotation.z+=this.bank,e=this.object.rotation.z,this.speed*=.98,this.speed+=this.thrust,this.speed=Math.min(this.maxSpeed,this.speed),this.speed=Math.max(0,this.speed),this.position.x+=this.speed*Math.cos(e),this.position.y+=this.speed*Math.sin(e),this.object.position.y=this.position.y,this.polarObj.rotation.y=this.position.x*this.poem.circumferenceRatio}}(),destroy:function(){this.object.geometry.dispose(),this.object.material.dispose()}}},{"./components/Damage":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Damage.js","./components/Hid":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Hid.js","./utils/destroyMesh":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Camera.js":[function(e,t){var n=function(e,t){this.poem=e,this.polarObj=new THREE.Object3D,this.speed=.032,this.object=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,3,1e3);var n=t.cameraMultiplier?t.cameraMultiplier:1.5;this.object.position.z=this.poem.r*n,this.polarObj.add(this.object),this.poem.scene.add(this.polarObj),this.poem.on("update",this.update.bind(this))};t.exports=n,n.prototype={resize:function(){this.object.aspect=window.innerWidth/window.innerHeight,this.object.updateProjectionMatrix()},update:function(){{var e=this.polarObj.rotation.y,t=this.poem.ship.polarObj.rotation.y;Math.abs(e-t)}this.polarObj.rotation.y=t*this.speed+e*(1-this.speed)}}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/CameraIntro.js":[function(e,t){var n=function(e,t){this.poem=e,this.poem.camera.object.position.y=5*this.poem.height,this.origin=t.origin?t.origin:new THREE.Vector3,this.speed=t.speed?t.speed:.98,this.boundUpdate=this.update.bind(this),this.poem.on("update",this.boundUpdate)};n.prototype={update:function(){this.poem.camera.object.position.y*=this.speed,this.poem.camera.object.lookAt(this.origin),this.poem.camera.object.position.y<.1&&this.poem.off("update",this.boundUpdate)}},t.exports=n},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/CylinderLines.js":[function(e,t){function n(e,t,n,i,r,o){for(var a,u,l=0;e>l;l++)a=l/e,u=1-a,s(t,Math.floor((n-3)*u)+3,i*u,r*u*u,o)}function s(e,t,n,s,u){for(var l,c,h,p,d,g,f,m,b,v,y=1-u,x=1+u,j=i/t,w=3,_=0;t>=_;_++)v=s*Math.sin(j*_*w)*.4,l=r(j*_)*n*a.range(y,x),c=o(j*_)*n*a.range(y,x),d=s*a.range(y,x)+v,_>0?(_===t&&(l=f,c=m,d=b),e.push(new THREE.Vector3(l,.5*d,c)),e.push(new THREE.Vector3(l,d*-.5,c)),e.push(new THREE.Vector3(l,.5*d,c)),e.push(new THREE.Vector3(h,.5*g,p)),e.push(new THREE.Vector3(l,d*-.5,c)),e.push(new THREE.Vector3(h,g*-.5,p))):(f=l,m=c,b=d),h=l,p=c,g=d;return geometry}var i=2*Math.PI,r=Math.cos,o=Math.sin,a=e("../utils/random.js"),u=e("../utils/destroyMesh"),l=function(e,t){this.poem=e;var s=.5,i=.5,r=.5,o=new THREE.Geometry,a=(e.r*(_.isNumber(t.heightPercentage)?t.radiusPercentage:.8),e.r*(_.isNumber(t.radiusPercentage)?t.radiusPercentage:.8)),l=_.isNumber(t.sides)?t.sides:15,c=_.isNumber(t.eccentricity)?t.eccentricity:.05,h=_.isNumber(t.iterations)?t.iterations:10;n(h,o.vertices,l,a,e.height,c);var p=new THREE.LineBasicMaterial({color:this.color,linewidth:this.linewidth,fog:!0});this.object=new THREE.Line(o,p,THREE.LinePieces),this.poem.scene.add(this.object),this.poem.on("destroy",u(this.object)),this.poem.on("update",function(e){s=(s+2e-4*e.dt)%1,p.color.setHSL(s,r,i)}.bind(this))};t.exports=l},{"../utils/destroyMesh":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js","../utils/random.js":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/random.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Damage.js":[function(e,t){var n=e("underscore"),s=e("../utils/random.js"),i=e("../entities/Bullet"),r=e("../sound/SoundGenerator"),o=e("../utils/destroyMesh"),a=function(e,t,s){this.poem=e,this.ship=t,this.perExplosion=100,this.retainExplosionsCount=3,this.bullets=[],this.explodeSpeed=3,this.transparent=!1,this.opacity=1,this.explosionCount=0,this.explosionSound=null,n.isObject(s)&&n.extend(this,s),this.count=this.perExplosion*this.retainExplosionsCount,this.addObject(),this.addSound()};a.prototype={generateGeometry:function(){var e,t;geometry=new THREE.Geometry;for(var n=0;n<this.count;n++)e=new THREE.Vector3,t=new i(this.poem,this,e),geometry.vertices.push(e),this.bullets.push(t),t.kill(),t.position.y=1e3;return geometry},addObject:function(){var e;e=this.generateGeometry(),this.object=new THREE.PointCloud(e,new THREE.PointCloudMaterial({size:1*this.poem.ratio,color:this.ship.color,transparent:this.transparent,opacity:this.opacity})),this.object.frustumCulled=!1,this.poem.scene.add(this.object),this.poem.on("destroy",o(this.object))},addSound:function(){var e=this.explosionSound=new r;e.connectNodes([e.makeOscillator("sawtooth"),e.makeGain(),e.getDestination()]),e.setGain(0,0,0),e.start()},reset:function(){n.each(this.bullets,function(e){e.kill()})},explode:function(){this.playExplosionSound(),n.each(n.sample(this.bullets,this.perExplosion),function(e){var t=s.range(0,2*Math.PI),n=s.rangeLow(0,this.explodeSpeed);e.alive=!0,e.position.copy(this.ship.position),e.speed.x=n*Math.cos(t),e.speed.y=n*Math.sin(t)}.bind(this))},playExplosionSound:function(){var e=500,t=this.explosionSound;t.setGain(.5,0,.001),t.setFrequency(e,0,0);var n=.02,s=6,i=1;for(i=1;s>i;i++)t.setFrequency(e*Math.random(),n*i,n);t.setGain(0,n*s,.2),t.setFrequency(.21*e,n*s,.05)},update:function(e){n.each(this.bullets,function(t){t.update(e),t.speed.multiplyScalar(.999)}),this.object.geometry.verticesNeedUpdate=!0}},t.exports=a},{"../entities/Bullet":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Bullet.js","../sound/SoundGenerator":"/Users/gregtatum/Dropbox/greg-sites/polar/js/sound/SoundGenerator.js","../utils/destroyMesh":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js","../utils/random.js":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/random.js",underscore:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/underscore/underscore.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Hid.js":[function(e,t){t.exports=e("/Users/gregtatum/Dropbox/greg-sites/polar/js/Components/Hid.js")},{"/Users/gregtatum/Dropbox/greg-sites/polar/js/Components/Hid.js":"/Users/gregtatum/Dropbox/greg-sites/polar/js/Components/Hid.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/ScoringAndWinning.js":[function(e,t){var n=e("hasher"),s=function(e,t){t=_.isObject(t)?t:{},this.poem=e,this.$score=$("#score"),this.$enemiesCount=$("#enemies-count"),this.$win=$(".win"),this.$winScore=$("#win-score"),this.$winText=this.$win.find("h1:first"),this.$scoreMessage=$("#score-message"),this.$nextLevel=$("#next-level"),this.score=0,this.enemiesCount=0,this.scoreMessageId=0,this.message=_.isString(t.message)?t.message:"You Win",this.nextLevel=t.nextLevel?t.nextLevel:null,this.won=!1,this.conditionsCount=_.isArray(t.conditions)?t.conditions.length:0,this.conditionsRemaining=this.conditionsCount,this.poem.on("levelParsed",function(){this.setConditions(t.conditions)}.bind(this))};t.exports=s,s.prototype={setConditions:function(e){_.each(e,function(e){var t=this.poem[e.component],n=_.union(this,e.properties);t.watchForCompletion.apply(t,n)}.bind(this))},reportConditionCompleted:function(){this.conditionsRemaining--,0===this.conditionsRemaining&&(this.poem.ship.disable(),this.won=!0,this.showWinScreen())},adjustEnemies:function(e){return this.enemiesCount+=e,this.$enemiesCount.text(this.enemiesCount),this.enemiesCount},adjustScore:function(e,t,n){return this.won?void 0:(this.score+=e,this.$score.text(this.score),t&&this.showMessage(t,n),this.score)},showMessage:function(e,t){var n=$("<span></span>").text(e);t&&n.css(t),this.$scoreMessage.hide(),this.$scoreMessage.empty().append(n),this.$scoreMessage.removeClass("fadeout"),this.$scoreMessage.addClass("fadein"),this.$scoreMessage.show(),this.$scoreMessage.removeClass("fadein");var s=++this.scoreMessageId;setTimeout(function(){s===this.scoreMessageId&&this.$scoreMessage.addClass("fadeout")}.bind(this),2e3)},showWinScreen:function(){this.$winScore.text(this.score),this.$win.show(),this.$win.css({opacity:1}),this.$winText.html(this.message),this.$nextLevel.one("click",function(e){e.preventDefault(),n.setHash("level/"+this.nextLevel),this.$win.hide()}.bind(this))}}},{hasher:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/hasher/dist/js/hasher.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Stars.js":[function(e,t){var n=e("../utils/destroyMesh"),s=function(e,t){t=_.isObject(t)?t:{},this.poem=e,this.object=null,this.count=_.isNumber(t.count)?t.count:4e4,this.depth=7.5,this.color=11184810,this.addObject()};t.exports=s,s.prototype={generateGeometry:function(){var e,t,n,s,i,r;r=new THREE.Geometry;for(var o=0;o<this.count;o++)e=Math.random()*this.depth*this.poem.r,e<this.poem.r&&(e=Math.random()*this.depth*this.poem.r),t=2*Math.random()*Math.PI,n=Math.cos(t)*e,i=Math.sin(t)*e,s=(.5-Math.random())*this.depth*this.poem.r,r.vertices.push(new THREE.Vector3(n,s,i));return r},addObject:function(){var e;e=this.generateGeometry(),this.object=new THREE.PointCloud(e,new THREE.PointCloudMaterial({size:.5*this.poem.ratio,color:this.color,fog:!1})),this.poem.scene.add(this.object),this.poem.on("destroy",n(this.object))}}},{"../utils/destroyMesh":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Titles.js":[function(e,t){var n=e("../Components/Hid"),s=e("hasher"),i=null,r=function(e){this.poem=e,this.poem.ship.disable(),this.rotateStars(),$("a[href=#keys]").click(this.handleKeysClick.bind(this)),$("a[href=#tilt]").click(this.handleTiltClick.bind(this)),this.poem.on("destroy",this.hideDomElements.bind(this)),this.showDomElements(),this.webglCheck()};t.exports=r,r.prototype={webglEnabled:function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(t){return!1}}(),webglCheck:function(){this.webglEnabled||($("a[href=#keys]").hide(),$("a[href=#tilt]").hide(),$(".title-webgl-error").show())},handleKeysClick:function(e){e.preventDefault(),n.prototype.setKeys(),this.nextLevel()},handleTiltClick:function(e){e.preventDefault(),n.prototype.setTilt(),this.nextLevel()},nextLevel:function(){s.setHash("level/intro")},showDomElements:function(){clearTimeout(i),$("#title").removeClass("title-transition").addClass("hide").addClass("title-transition").show(),setTimeout(function(){$("#title").removeClass("hide")},1),$(".score").css("opacity",0)},hideDomElements:function(){$("#title").addClass("title-transition").addClass("hide"),$(".score").css("opacity",1),i=setTimeout(function(){$("#title").hide()}.bind(this),1e3)},rotateStars:function(){this.poem.on("update",function(e){this.poem.stars.object.rotation.y-=1e-4*e.dt}.bind(this))}}},{"../Components/Hid":"/Users/gregtatum/Dropbox/greg-sites/polar/js/Components/Hid.js",hasher:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/hasher/dist/js/hasher.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Asteroid.js":[function(e,t){var n=e("underscore"),s=e("../utils/destroyMesh"),i=function(e,t,n,s){this.poem=e,this.object=null,this.position=new THREE.Vector2,this.position.x=t||0,this.position.y=n||0,this.oscillation=0,this.radius=s||5,this.speed=new THREE.Vector2,this.rotationSpeed=new THREE.Vector3,this.maxSpeed=.5,this.maxRotationSpeed=.1,this.oscillationSpeed=50,this.strokeColor=14540253,this.fillColor=16777215,this.addObject(t,n),this.update()};t.exports=i,i.prototype={addObject:function(){var e=new THREE.OctahedronGeometry(this.radius,1);n.each(e.vertices,function(e){e.x+=this.radius/2*(Math.random()-.5),e.y+=this.radius/2*(Math.random()-.5),e.z+=this.radius/2*(Math.random()-.5)},this);var t=new THREE.MeshBasicMaterial({color:this.strokeColor});this.object=new THREE.Mesh(e,t);var i=new THREE.MeshBasicMaterial({color:this.fillColor,side:THREE.BackSide}),r=new THREE.Mesh(e,i);r.scale.multiplyScalar(1.05),this.object.add(r),this.poem.scene.add(this.object),this.poem.on("destroy",s(this.object)),this.speed.x=(.5-Math.random())*this.maxSpeed,this.speed.y=(.5-Math.random())*this.maxSpeed,this.rotationSpeed.x=(.5-Math.random())*this.maxRotationSpeed,this.rotationSpeed.y=(.5-Math.random())*this.maxRotationSpeed,this.rotationSpeed.z=(.5-Math.random())*this.maxRotationSpeed,this.oscillation=Math.random()*Math.PI*2*this.oscillationSpeed},update:function(){this.oscillation+=this.speed.y,this.position.x+=this.speed.x,this.position.y=Math.sin(this.oscillation/this.oscillationSpeed)*this.poem.height,this.object.rotation.x+=this.rotationSpeed.x,this.object.rotation.y+=this.rotationSpeed.y,this.object.rotation.z+=this.rotationSpeed.z,this.poem.coordinates.setVector(this.object.position,this.position)}}},{"../utils/destroyMesh":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js",underscore:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/underscore/underscore.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Bullet.js":[function(e,t){var n=function(e,t,n){this.poem=e,this.gun=t,this.vertex=n,this.speed=new THREE.Vector2(0,0),this.position=new THREE.Vector2(0,0),this.radius=1,this.bornAt=0,this.alive=!1};t.exports=n,n.prototype={kill:function(){this.vertex.set(0,0,1e3),this.alive=!1},update:function(){this.position.x+=this.speed.x,this.position.y+=this.speed.y,this.poem.coordinates.setVector(this.vertex,this.position)},fire:function(e,t,n,s){this.poem.coordinates.setVector(this.vertex,e,t),this.position.set(e,t),this.speed.x=Math.cos(s)*n,this.speed.y=Math.sin(s)*n,this.bornAt=this.poem.clock.time,this.alive=!0}}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/JellyShip.js":[function(e,t){var n=e("../components/Damage"),s=e("../utils/random"),i=e("../utils/destroyMesh"),r=function(e,t,s,i){this.poem=e,this.manager=t,this.scene=e.scene,this.polarObj=new THREE.Object3D,this.object=null,this.name="Jellyship",this.color=13317866,this.cssColor="#CB36EA",this.linewidth=2*this.poem.ratio,this.scoreValue=13,this.spawnPoint=new THREE.Vector2(s,i),this.position=new THREE.Vector2(s,i),this.dead=!1,this.speed=0,this.edgeAvoidanceBankSpeed=.04,this.edgeAvoidanceThrustSpeed=.001,this.thrustSpeed=1,this.thrust=0,this.bankSpeed=.06,this.bank=0,this.maxSpeed=1e3,this.radius=3,this.addObject(),this.damage=new n(this.poem,this,{transparent:!0,opacity:.5,retainExplosionsCount:3,perExplosion:50}),this.handleUpdate=this.update.bind(this),this.manager.on("update",this.handleUpdate)};t.exports=r,r.prototype={initSharedAssets:function(e){var t=this.createGeometry();e.shared.geometry=t,e.on("update",r.prototype.updateWaveyVerts(t))},updateWaveyVerts:function(e){return function(t){_.each(e.waveyVerts,function(e){e.y=.8*Math.sin(t.time/100+e.x)+e.original.y})}},createGeometry:function(){var e,t,n,s;return e=new THREE.Geometry,t=[[355.7,211.7],[375.8,195.9],[368.5,155.4],[361.4,190.8],[341.3,205.9],[320.4,201.8],[298.9,206],[278.6,190.8],[271.5,155.4],[264.2,195.9],[284.7,212],[258.3,239.2],[242.3,228.5],[238.3,168.9],[226.1,237.1],[246.7,266.2],[233.7,316.4],[259.2,321.2],[257.1,331.3],[254.9,342.3],[252.8,352.9],[250.5,364.5],[248.2,375.7],[246.1,386.2],[243.8,397.7],[241.3,410.3],[239.5,419.3],[237.4,429.6],[253.1,432.7],[254.9,423.7],[256.9,414.1],[259.3,401.8],[261.6,390.2],[263.7,380.1],[266.1,367.8],[268.3,356.9],[270.6,345.6],[272.7,335.1],[274.9,324.2],[293,327.6],[292.6,336.5],[292.2,348],[291.7,359.6],[291.2,371.5],[290.7,382.5],[290.3,393.6],[289.8,405.1],[289.5,414.1],[289,425.6],[288.5,437],[288.1,448.5],[287.6,459.5],[287.1,471.5],[286.6,484],[302.6,484.6],[303.1,473.5],[303.6,461.5],[304.1,448.5],[304.5,438.5],[305,425.1],[305.4,416.1],[305.9,405],[306.2,395.5],[306.6,386],[307.1,373],[307.6,361],[308.2,347.5],[308.5,338.5],[308.9,330.6],[331.1,330.8],[331.4,336.5],[331.7,344],[332,353],[332.5,364.5],[333,376],[333.4,387.5],[333.9,398.5],[334.4,410.5],[334.9,422.4],[335.4,437],[336,450],[336.4,460],[336.8,471],[337.4,484.6],[353.4,484],[352.8,471],[352.3,457.5],[351.9,448],[351.5,437.5],[350.9,423],[350.4,410.5],[349.8,396.5],[349.4,385.5],[348.9,374.4],[348.5,363.4],[348,352],[347.6,343],[347.3,334],[347,327.8],[365.1,324.3],[366.6,331.7],[368.2,339.6],[370.2,349.5],[371.9,357.8],[373.6,366.8],[375.4,375.4],[377.1,384],[379,393.5],[381.2,404.6],[383.1,414],[384.9,422.8],[386.9,432.7],[402.6,429.6],[400.6,419.6],[399.1,412.5],[397.1,402.5],[394.7,390.2],[393.1,382.6],[391.4,374],[389.6,365],[387.6,355.1],[386,347.2],[384.1,337.7],[382.7,330.6],[380.9,321.4],[407,316.4],[393.8,265.5],[413.9,237.1],[401.7,168.9],[397.7,228.5],[382.1,238.9],[355.9,211.8]],n=_.reduce(t,function(e,t){return[e[0]+t[0],e[1]+t[1]]},[0,0]),s=[n[0]/t.length,n[1]/t.length],e.waveyVerts=[],e.vertices=_.map(t,function(t){var n=1/32,i=new THREE.Vector3((t[1]-s[1])*n*-1,(t[0]-s[0])*n,0);return i.original=(new THREE.Vector3).copy(i),t[1]>330.8&&e.waveyVerts.push(i),i},this),e},addObject:function(){var e,t;e=this.manager.shared.geometry,t=new THREE.LineBasicMaterial({color:this.color,linewidth:this.linewidth}),this.object=new THREE.Line(e,t,THREE.LineStrip),this.object.position.z+=this.poem.r,this.polarObj.add(this.object),this.reset(),this.scene.add(this.polarObj),this.poem.on("destroy",i(this.object))},kill:function(){this.dead=!0,this.object.visible=!1,this.damage.explode()},reset:function(){this.position.copy(this.spawnPoint),this.speed=.2,this.bank=0},update:function(e){this.dead?this.damage.update(e):(this.bank*=.9,this.thrust=.01,this.bank+=s.range(-.01,.01),this.object.geometry.verticesNeedUpdate=!0,this.updateEdgeAvoidance(e),this.updatePosition(e))},updateEdgeAvoidance:function(){var e,t,n,s,i,r;t=this.poem.height/2,e=.8*t,n=this.object.position.y,r=Math.abs(n);this.object.rotation.z/Math.PI;if(this.object.rotation.z%=2*Math.PI,this.object.rotation.z<0&&(this.object.rotation.z+=2*Math.PI),Math.abs(n)>e){var o=this.object.rotation.z>=.5*Math.PI&&this.object.rotation.z<1.5*Math.PI;i=n>0?o?1:-1:o?-1:1,s=(r-e)/(t-e),this.thrust+=s*this.edgeAvoidanceThrustSpeed,this.object.rotation.z+=i*s*this.edgeAvoidanceBankSpeed}this.object.rotation.z},updatePosition:function(){new THREE.Vector3;return function(){var e;this.object.rotation.z+=this.bank,e=this.object.rotation.z,this.speed*=.98,this.speed+=this.thrust,this.speed=Math.min(this.maxSpeed,this.speed),this.speed=Math.max(0,this.speed),this.position.x+=this.speed*Math.cos(e),this.position.y+=this.speed*Math.sin(e),this.object.position.y=this.position.y,this.polarObj.rotation.y=this.position.x*this.poem.circumferenceRatio}}()}},{"../components/Damage":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Damage.js","../utils/destroyMesh":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js","../utils/random":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/random.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Jellyship.js":[function(e,t){t.exports=e("/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/JellyShip.js")},{"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/JellyShip.js":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/JellyShip.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/levelLoader.js":[function(e,t){var n=e("./Poem"),s=e("./levels"),i=null,r=null;window.levelLoader=function(e){return _.isObject(s[e])?(r&&r.destroy(),i=s[e],r=new n(i),window.poem=r,!0):!1},t.exports=levelLoader},{"./Poem":"/Users/gregtatum/Dropbox/greg-sites/polar/js/Poem.js","./levels":"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/index.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/asteroidsJellies.js":[function(e,t){t.exports={config:{scoringAndWinning:{message:"No jellies detected within 5 parsecs.<br/> Follow me on <a href='https://twitter.com/tatumcreative'>Twitter</a> for updates on new levels.",nextLevel:"titles",conditions:[{component:"jellyManager",properties:null}]}},objects:{asteroidField:{object:e("../managers/AsteroidField"),properties:{count:20}},jellyManager:{object:e("../managers/EntityManager"),properties:{entityType:e("../entities/Jellyship"),count:25}},music:{object:e("../sound/Music"),properties:{url:"https://soundcloud.com/theelectrochippers/the-end-of-our-journey"}}}}},{"../entities/Jellyship":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Jellyship.js","../managers/AsteroidField":"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/AsteroidField.js","../managers/EntityManager":"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/EntityManager.js","../sound/Music":"/Users/gregtatum/Dropbox/greg-sites/polar/js/sound/Music.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/index.js":[function(e,t){t.exports={asteroidsJellies:e("./asteroidsJellies"),titles:e("./titles"),intro:e("./intro")}},{"./asteroidsJellies":"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/asteroidsJellies.js","./intro":"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/intro.js","./titles":"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/titles.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/intro.js":[function(e,t){t.exports={config:{r:120,height:60,circumference:900,cameraMultiplier:2,scoringAndWinning:{message:"You saved this sector<br/>on to the next level.",nextLevel:"asteroidsJellies",conditions:[{component:"jellyManager",properties:null}]},stars:{count:3e3}},objects:{cylinderLines:{object:e("../components/CylinderLines"),properties:{}},cameraIntro:{object:e("../components/CameraIntro"),properties:{speed:.985}},jellyManager:{object:e("../managers/EntityManager"),properties:{entityType:e("../entities/Jellyship"),count:5}},music:{object:e("../sound/Music"),properties:{url:"https://soundcloud.com/theelectrochippers/the-sun-is-rising-chip-music"}}}}},{"../components/CameraIntro":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/CameraIntro.js","../components/CylinderLines":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/CylinderLines.js","../entities/Jellyship":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Jellyship.js","../managers/EntityManager":"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/EntityManager.js","../sound/Music":"/Users/gregtatum/Dropbox/greg-sites/polar/js/sound/Music.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/levels/titles.js":[function(e,t){t.exports={config:{},objects:{titles:{object:e("../components/Titles"),properties:{}},music:{object:e("../sound/Music"),properties:{url:"https://soundcloud.com/theelectrochippers/chiptune-space",startTime:12,volume:1}}}}
},{"../components/Titles":"/Users/gregtatum/Dropbox/greg-sites/polar/js/components/Titles.js","../sound/Music":"/Users/gregtatum/Dropbox/greg-sites/polar/js/sound/Music.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/AsteroidField.js":[function(e,t){var n=e("../entities/Asteroid"),s=function(e,t){this.poem=e,this.asteroids=[],this.maxRadius=50,this.originClearance=30,this.count=20,_.extend(this,t),this.generate(this.count),this.poem.on("update",this.update.bind(this)),this.poem.gun.setBarrierCollider(this.asteroids)};t.exports=s,s.prototype={generate:function(e){var t,s,i,r,o,a;for(r=4*this.poem.height,o=this.poem.circumference,t=0;e>t;t++){do s=Math.random()*o,i=Math.random()*r-r/2,a=Math.random()*this.maxRadius;while(this.checkCollision(s,i,a)&&this.checkFreeOfOrigin(s,i,a));this.asteroids.push(new n(this.poem,s,i,a))}},update:function(e){if(_.each(this.asteroids,function(t){t.update(e)},this),!this.poem.ship.dead&&!this.poem.ship.invulnerable){var t=this.checkCollision(this.poem.ship.position.x,this.poem.ship.position.y,2);t&&this.poem.ship.kill()}},checkFreeOfOrigin:function(e,t,n){return Math.sqrt(e*e+t*t)>n+this.originClearance},checkCollision:function(e,t,n){var s=_.find(this.asteroids,function(s){var i,r,o;return i=this.poem.coordinates.circumferenceDistance(e,s.position.x),r=t-s.position.y,o=Math.sqrt(i*i+r*r),o<n+s.radius},this);return!!s}}},{"../entities/Asteroid":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Asteroid.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/EntityManager.js":[function(e,t){var n=e("../utils/Collider"),s=e("../entities/JellyShip"),i=e("../utils/EventDispatcher"),r=function(e,t){this.poem=e,this.entityType=s,this.count=20,this.entities=[],this.liveEntities=[],this.originClearance=300,this.shared={},this.winCheck=null,_.extend(this,t),_.isFunction(this.entityType.prototype.initSharedAssets)&&this.entityType.prototype.initSharedAssets(this),this.generate(this.count),this.configureCollider(),this.boundUpdate=this.update.bind(this),this.poem.on("update",this.boundUpdate)};t.exports=r,r.prototype={generate:function(e){var t,n,s,i,r,o;for(i=4*this.poem.height,r=this.poem.circumference,t=0;e>t;t++)n=Math.random()*r,s=Math.random()*i-i/2,o=new this.entityType(this.poem,this,n,s),this.entities.push(o),this.liveEntities.push(o);this.poem.scoringAndWinning.adjustEnemies(e)},update:function(e){this.dispatch(e)},killEntity:function(e){var t=this.liveEntities.indexOf(e);t>=0&&this.liveEntities.splice(t,1),e.kill(),this.winCheck&&0===this.liveEntities.length&&(this.winCheck.reportConditionCompleted(),this.winCheck=null)},configureCollider:function(){new n(this.poem,function(){return this.liveEntities}.bind(this),function(){return this.poem.gun.liveBullets}.bind(this),function(e,t){this.killEntity(e),this.poem.gun.killBullet(t),this.poem.scoringAndWinning.adjustScore(e.scoreValue,"+"+e.scoreValue+" "+e.name,{color:e.cssColor}),this.poem.scoringAndWinning.adjustEnemies(-1)}.bind(this)),new n(this.poem,function(){return this.liveEntities}.bind(this),function(){return[this.poem.ship]}.bind(this),function(e){this.poem.ship.dead||this.poem.ship.invulnerable||(this.killEntity(e),this.poem.ship.kill(),this.poem.scoringAndWinning.adjustEnemies(-1))}.bind(this))},watchForCompletion:function(e){this.winCheck=e}},i.prototype.apply(r.prototype)},{"../entities/JellyShip":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/JellyShip.js","../utils/Collider":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Collider.js","../utils/EventDispatcher":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/EventDispatcher.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/managers/Gun.js":[function(e,t){var n=e("../entities/Bullet"),s=e("../utils/Collider"),i=e("../sound/SoundGenerator"),r=e("../utils/destroyMesh"),o=function(e){this.poem=e,this.object=null,this.sound=null,this.count=350,this.bulletAge=5e3,this.fireDelayMilliseconds=100,this.lastFireTimestamp=this.poem.clock.time,this.liveBullets=[],this.bullets=[],this.bornAt=0,this.addObject(),this.addSound(),this.poem.on("update",this.update.bind(this))};t.exports=o,o.prototype={fire:function(){var e=function(e){return!e.alive};return function(t,n,s,i){var r=this.poem.clock.time;if(!(r-this.lastFireTimestamp<this.fireDelayMilliseconds)){this.lastFireTimestamp=r;var o=_.find(this.bullets,e);if(o){this.liveBullets.push(o),o.fire(t,n,s,i);var a=1900;this.sound.setGain(.1,0,.001),this.sound.setFrequency(a,0,0),this.sound.setGain(0,.01,.05),this.sound.setFrequency(.1*a,.01,.05)}}}}(),generateGeometry:function(){for(var e,t,s=new THREE.Geometry,i=0;i<this.count;i++)e=new THREE.Vector3,t=new n(this.poem,this,e),s.vertices.push(e),this.bullets.push(t),t.kill();return s},killBullet:function(e){var t=this.liveBullets.indexOf(e);t>=0&&this.liveBullets.splice(t,1),e.kill(),this.object&&(this.object.geometry.verticesNeedUpdate=!0)},addObject:function(){var e;e=this.generateGeometry(),this.object=new THREE.PointCloud(e,new THREE.PointCloudMaterial({size:1*this.poem.ratio,color:16711680})),this.object.frustumCulled=!1,this.poem.scene.add(this.object),this.poem.on("destroy",r(this.object))},update:function(e){for(var t,n=0;n<this.liveBullets.length;n++)t=this.liveBullets[n],t.bornAt+this.bulletAge<e.time?(this.killBullet(t),n--):t.update(e.dt);this.liveBullets.length>0&&(this.object.geometry.verticesNeedUpdate=!0)},setBarrierCollider:function(e){new s(this.poem,function(){return e}.bind(this),function(){return this.liveBullets}.bind(this),function(e,t){this.killBullet(t)}.bind(this))},addSound:function(){var e=this.sound=new i;e.connectNodes([e.makeOscillator("square"),e.makeGain(),e.getDestination()]),e.setGain(0,0,0),e.start()}}},{"../entities/Bullet":"/Users/gregtatum/Dropbox/greg-sites/polar/js/entities/Bullet.js","../sound/SoundGenerator":"/Users/gregtatum/Dropbox/greg-sites/polar/js/sound/SoundGenerator.js","../utils/Collider":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Collider.js","../utils/destroyMesh":"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/routing.js":[function(e){var t=e("crossroads"),n=e("hasher"),s=e("./levelLoader"),i="/polar",r="titles";t.addRoute("/",function(){_gaq.push(["_trackPageview",i]),s(r)}),t.addRoute("level/{name}",function(e){_gaq.push(["_trackPageview",i+"/#level/"+e]);var t=s(e);t||s(r)}),t.addRoute(/.*/,function(){n.replaceHash("")}),$(function(){function e(e){t.parse(e)}n.initialized.add(e),n.changed.add(e),n.init()})},{"./levelLoader":"/Users/gregtatum/Dropbox/greg-sites/polar/js/levelLoader.js",crossroads:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/crossroads/dist/crossroads.js",hasher:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/hasher/dist/js/hasher.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/sound/Music.js":[function(e,t){var n=e("soundcloud-badge"),s=function(e,t){if("#musicoff"!==window.location.hash){var s,i=!0;n({client_id:"6057c9af862bf245d4c402179e317f52",song:t.url,dark:!1,getFonts:!1},function(e,n){if(i){if(e)throw e;s=new Audio,s.src=n,s.play(),s.loop=!0,s.volume=t.volume||.6,$(s).on("loadedmetadata",function(){s&&(s.currentTime=t.startTime||0)});var r=!0;$(window).on("keydown.Music",function(e){83===e.keyCode&&(r?(s.pause(),r=!1):(s.play(),r=!0))})}}),e.on("destroy",function(){s&&(s.pause(),s=null),$(window).off("keydown.Music"),$(".npm-scb-white").remove()})}};t.exports=s},{"soundcloud-badge":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/index.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/sound/SoundGenerator.js":[function(e,t){var n=e("underscore"),s=window.AudioContext||window.webkitAudioContext||null,i=function(){this.enabled=void 0!==s,this.enabled&&(this.totalCreated++,this.totalCreatedSq=this.totalCreated*this.totalCreated)};t.exports=i,i.prototype={context:s?new s:void 0,makePinkNoise:function(e){var t,n,s,i,r,o,a,u;return t=n=s=i=r=o=a=0,u=this.pinkNoise=this.context.createScriptProcessor(e,1,1),u.onaudioprocess=function(u){for(var l=u.outputBuffer.getChannelData(0),c=0;e>c;c++){var h=2*Math.random()-1;t=.99886*t+.0555179*h,n=.99332*n+.0750759*h,s=.969*s+.153852*h,i=.8665*i+.3104856*h,r=.55*r+.5329522*h,o=-.7616*o-.016898*h,l[c]=t+n+s+i+r+o+a+.5362*h,l[c]*=.11,a=.115926*h}},u},makeOscillator:function(e,t){var n=this.oscillator=this.context.createOscillator();return n.type=e||"sawtooth",n.frequency.value=t||2e3,n},makeGain:function(){var e=this.gain=this.context.createGain();return e.gain.value=1,e},makePanner:function(){this.context.listener.setPosition(0,0,0);var e=this.panner=this.context.createPanner();return e.panningModel="equalpower",e.coneOuterGain=.1,e.coneOuterAngle=180,e.coneInnerAngle=0,e},makeBandpass:function(){var e=this.bandpass=this.context.createBiquadFilter();return e.type="bandpass",e.frequency.value=440,e.Q.value=.5,e},getDestination:function(){return this.context.destination},connectNodes:function(e){n.each(n.rest(e),function(t,n){var s=e[n];s.connect(t)})},start:function(){this.oscillator.start(0)},totalCreated:0,setFrequency:function(e,t,n){this.enabled&&this.oscillator.frequency.setTargetAtTime(e,this.context.currentTime+t,n)},setPosition:function(e,t,n){this.enabled&&this.panner.setPosition(e,t,n)},setGain:function(e,t,n){this.enabled&&this.gain.gain.setTargetAtTime(e,this.context.currentTime+t,n)},setBandpassQ:function(e){this.enabled&&this.bandpass.Q.setTargetAtTime(e,this.context.currentTime,.1)},setBandpassFrequency:function(e){this.enabled&&this.bandpass.frequency.setTargetAtTime(e,this.context.currentTime,.1)}}},{underscore:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/underscore/underscore.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Clock.js":[function(e,t){var n=function(e){this.maxDt=60,this.minDt=16,this.pTime=0,this.time=0,e!==!1&&this.start()};t.exports=n,n.prototype={start:function(){this.pTime=Date.now()},getDelta:function(){var e,t;return e=Date.now(),t=e-this.pTime,t=Math.min(t,this.maxDt),t=Math.max(t,this.minDt),this.time+=t,this.pTime=e,t}}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Collider.js":[function(e,t){var n=e("underscore"),s=function(e,t,n,s){this.poem=e,this.getCollectionA=t,this.getCollectionB=n,this.onCollision=s,this.poem.on("update",this.update.bind(this))};t.exports=s,s.prototype={update:function(){var e=[];n.each(this.getCollectionA(),function(t){var s=n.find(this.getCollectionB(),function(e){var n,s,i;return n=this.poem.coordinates.circumferenceDistance(t.position.x,e.position.x),s=t.position.y-e.position.y,i=Math.sqrt(n*n+s*s),i<t.radius+e.radius},this);s&&e.push([t,s])},this),n.each(e,function(e){this.onCollision(e[0],e[1])},this)}}},{underscore:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/underscore/underscore.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Coordinates.js":[function(e,t){var n=function(e){this.poem=e,this.twoRSquared=2*this.poem.r*this.poem.r};t.exports=n,n.prototype={x:function(e){return Math.sin(e*this.poem.circumferenceRatio)*this.poem.r},y:function(e){return e},z:function(e){return Math.cos(e*this.poem.circumferenceRatio)*this.poem.r},r:function(e,t){return Math.sqrt(e*e+t*t)},theta:function(e,t){return Math.atan(t/e)},setVector:function(e){var t,n,s;return"number"==typeof arguments[1]?(t=arguments[1],n=arguments[2],e.set(this.x(t),n,this.z(t))):(s=arguments[1],e.set(this.x(s.x),s.y,this.z(s.x)))},getVector:function(e,t){var n=new THREE.Vector3;return this.setVector(n,e,t)},keepInRangeX:function(e){return e>=0?e%this.poem.circumference:e+e%this.poem.circumference},keepInRangeY:function(e){return e>=0?e%this.poem.height:e+e%this.poem.height},keepInRange:function(e){return e.x=this.keepInRangeX(e.x),e.y=this.keepInRangeX(e.y),e},twoXToTheta:function(e){return e*this.poem.circumferenceRatio},circumferenceDistance:function(e,t){var n=this.poem.circumferenceRatio;return this.twoRSquared-this.twoRSquared*Math.cos(e*n-t*n)}}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/EventDispatcher.js":[function(e,t){var n=function(){};n.prototype={constructor:n,apply:function(e){e.on=n.prototype.on,e.hasEventListener=n.prototype.hasEventListener,e.off=n.prototype.off,e.dispatch=n.prototype.dispatch},on:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)?!0:!1},off:function(e,t){if(void 0!==this._listeners){var n=this._listeners,s=n[e];if(void 0!==s){var i=s.indexOf(t);-1!==i&&s.splice(i,1)}}},dispatch:function(e){if(void 0!==this._listeners){var t=this._listeners,n=t[e.type];if(void 0!==n){e.target=this;var s,i=[],r=n.length;for(s=0;r>s;s++)i[s]=n[s];for(s=0;r>s;s++)i[s].call(this,e)}}}},"object"==typeof t&&(t.exports=n)},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/Stats.js":[function(e,t){var n=function(){var e=Date.now(),t=e,n=0,s=1/0,i=0,r=0,o=1/0,a=0,u=0,l=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(e){e.preventDefault(),y(++l%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var h=document.createElement("div");h.id="fps",h.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(h);var p=document.createElement("div");p.id="fpsText",p.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",p.innerHTML="FPS",h.appendChild(p);var d=document.createElement("div");for(d.id="fpsGraph",d.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",h.appendChild(d);d.children.length<74;){var g=document.createElement("span");g.style.cssText="width:1px;height:30px;float:left;background-color:#113",d.appendChild(g)}var f=document.createElement("div");f.id="ms",f.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(f);var m=document.createElement("div");m.id="msText",m.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",m.innerHTML="MS",f.appendChild(m);var b=document.createElement("div");for(b.id="msGraph",b.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",f.appendChild(b);b.children.length<74;){var v=document.createElement("span");v.style.cssText="width:1px;height:30px;float:left;background-color:#131",b.appendChild(v)}var y=function(e){switch(l=e){case 0:h.style.display="block",f.style.display="none";break;case 1:h.style.display="none",f.style.display="block"}},x=function(e,t){var n=e.appendChild(e.firstChild);n.style.height=t+"px"};return{REVISION:12,domElement:c,setMode:y,begin:function(){e=Date.now()},end:function(){var l=Date.now();return n=l-e,s=Math.min(s,n),i=Math.max(i,n),m.textContent=n+" MS ("+s+"-"+i+")",x(b,Math.min(30,30-n/200*30)),u++,l>t+1e3&&(r=Math.round(1e3*u/(l-t)),o=Math.min(o,r),a=Math.max(a,r),p.textContent=r+" FPS ("+o+"-"+a+")",x(d,Math.min(30,30-r/100*30)),t=l,u=0),l},update:function(){e=this.end()}}};"object"==typeof t&&(t.exports=n)},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/destroyMesh.js":[function(e,t){t.exports=function(e){return function(){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/js/utils/random.js":[function(e,t){var n={flip:function(){return Math.random()>.5?!0:!1},range:function(e,t){return Math.random()*(t-e)+e},rangeInt:function(e,t){return Math.floor(this.range(e,t+1))},rangeLow:function(e,t){return Math.random()*Math.random()*(t-e)+e},rangeHigh:function(e,t){return(1-Math.random()*Math.random())*(t-e)+e}};t.exports=n},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/lib/_empty.js":[function(){},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/node_modules/querystring-es3/decode.js":[function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,i,r){t=t||"&",i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var u=1e3;r&&"number"==typeof r.maxKeys&&(u=r.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;l>c;++c){var h,p,d,g,f=e[c].replace(a,"%20"),m=f.indexOf(i);m>=0?(h=f.substr(0,m),p=f.substr(m+1)):(h=f,p=""),d=decodeURIComponent(h),g=decodeURIComponent(p),n(o,d)?s(o[d])?o[d].push(g):o[d]=[o[d],g]:o[d]=g}return o};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/node_modules/querystring-es3/encode.js":[function(e,t){"use strict";function n(e,t){if(e.map)return e.map(t);for(var n=[],s=0;s<e.length;s++)n.push(t(e[s],s));return n}var s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,o,a){return t=t||"&",o=o||"=",null===e&&(e=void 0),"object"==typeof e?n(r(e),function(r){var a=encodeURIComponent(s(r))+o;return i(e[r])?n(e[r],function(e){return a+encodeURIComponent(s(e))}).join(t):a+encodeURIComponent(s(e[r]))}).join(t):a?encodeURIComponent(s(a))+o+encodeURIComponent(s(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/node_modules/querystring-es3/index.js":[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/node_modules/querystring-es3/decode.js","./encode":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/node_modules/querystring-es3/encode.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/crossroads/dist/crossroads.js":[function(e,t){!function(){var n=function(e){function t(e,t){if(e.indexOf)return e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return n;return-1}function n(e,n){var s=t(e,n);-1!==s&&e.splice(s,1)}function s(e,t){return"[object "+t+"]"===Object.prototype.toString.call(e)}function i(e){return s(e,"RegExp")}function r(e){return s(e,"Array")}function o(e){return"function"==typeof e}function a(e){var t;return t=null===e||"null"===e?null:"true"===e?!0:"false"===e?!1:e===g||"undefined"===e?g:""===e||isNaN(e)?e:parseFloat(e)}function u(e){for(var t=e.length,n=[];t--;)n[t]=a(e[t]);return n}function l(e,t){for(var n,s,i=(e||"").replace("?","").split("&"),r=i.length,o={};r--;)n=i[r].split("="),s=t?a(n[1]):n[1],o[n[0]]="string"==typeof s?decodeURIComponent(s):s;return o}function c(){this.bypassed=new e.Signal,this.routed=new e.Signal,this._routes=[],this._prevRoutes=[],this._piped=[],this.resetState()}function h(t,n,s,r){var o=i(t),a=r.patternLexer;this._router=r,this._pattern=t,this._paramsIds=o?null:a.getParamIds(t),this._optionalParamsIds=o?null:a.getOptionalParamsIds(t),this._matchRegexp=o?t:a.compilePattern(t,r.ignoreCase),this.matched=new e.Signal,this.switched=new e.Signal,n&&this.matched.add(n),this._priority=s||0}var p,d,g;return d=""===/t(.+)?/.exec("t")[1],c.prototype={greedy:!1,greedyEnabled:!0,ignoreCase:!0,ignoreState:!1,shouldTypecast:!1,normalizeFn:null,resetState:function(){this._prevRoutes.length=0,this._prevMatchedRequest=null,this._prevBypassedRequest=null},create:function(){return new c},addRoute:function(e,t,n){var s=new h(e,t,n,this);return this._sortedInsert(s),s},removeRoute:function(e){n(this._routes,e),e._destroy()},removeAllRoutes:function(){for(var e=this.getNumRoutes();e--;)this._routes[e]._destroy();this._routes.length=0},parse:function(e,t){if(e=e||"",t=t||[],this.ignoreState||e!==this._prevMatchedRequest&&e!==this._prevBypassedRequest){var n,s=this._getMatchedRoutes(e),i=0,r=s.length;if(r)for(this._prevMatchedRequest=e,this._notifyPrevRoutes(s,e),this._prevRoutes=s;r>i;)n=s[i],n.route.matched.dispatch.apply(n.route.matched,t.concat(n.params)),n.isFirst=!i,this.routed.dispatch.apply(this.routed,t.concat([e,n])),i+=1;else this._prevBypassedRequest=e,this.bypassed.dispatch.apply(this.bypassed,t.concat([e]));this._pipeParse(e,t)}},_notifyPrevRoutes:function(e,t){for(var n,s=0;n=this._prevRoutes[s++];)n.route.switched&&this._didSwitch(n.route,e)&&n.route.switched.dispatch(t)},_didSwitch:function(e,t){for(var n,s=0;n=t[s++];)if(n.route===e)return!1;return!0},_pipeParse:function(e,t){for(var n,s=0;n=this._piped[s++];)n.parse(e,t)},getNumRoutes:function(){return this._routes.length},_sortedInsert:function(e){var t=this._routes,n=t.length;do--n;while(t[n]&&e._priority<=t[n]._priority);t.splice(n+1,0,e)},_getMatchedRoutes:function(e){for(var t,n=[],s=this._routes,i=s.length;(t=s[--i])&&((!n.length||this.greedy||t.greedy)&&t.match(e)&&n.push({route:t,params:t._getParamsArray(e)}),this.greedyEnabled||!n.length););return n},pipe:function(e){this._piped.push(e)},unpipe:function(e){n(this._piped,e)},toString:function(){return"[crossroads numRoutes:"+this.getNumRoutes()+"]"}},p=new c,p.VERSION="0.12.0",p.NORM_AS_ARRAY=function(e,t){return[t.vals_]},p.NORM_AS_OBJECT=function(e,t){return[t]},h.prototype={greedy:!1,rules:void 0,match:function(e){return e=e||"",this._matchRegexp.test(e)&&this._validateParams(e)},_validateParams:function(e){var t,n=this.rules,s=this._getParamsObject(e);for(t in n)if("normalize_"!==t&&n.hasOwnProperty(t)&&!this._isValidParam(e,t,s))return!1;return!0},_isValidParam:function(e,n,s){var a=this.rules[n],u=s[n],l=!1,c=0===n.indexOf("?");return null==u&&this._optionalParamsIds&&-1!==t(this._optionalParamsIds,n)?l=!0:i(a)?(c&&(u=s[n+"_"]),l=a.test(u)):r(a)?(c&&(u=s[n+"_"]),l=this._isValidArrayRule(a,u)):o(a)&&(l=a(u,e,s)),l},_isValidArrayRule:function(e,n){if(!this._router.ignoreCase)return-1!==t(e,n);"string"==typeof n&&(n=n.toLowerCase());for(var s,i,r=e.length;r--;)if(s=e[r],i="string"==typeof s?s.toLowerCase():s,i===n)return!0;return!1},_getParamsObject:function(e){for(var n,s,i=this._router.shouldTypecast,r=this._router.patternLexer.getParamValues(e,this._matchRegexp,i),o={},u=r.length;u--;)s=r[u],this._paramsIds&&(n=this._paramsIds[u],0===n.indexOf("?")&&s&&(o[n+"_"]=s,s=l(s,i),r[u]=s),d&&""===s&&-1!==t(this._optionalParamsIds,n)&&(s=void 0,r[u]=s),o[n]=s),o[u]=s;return o.request_=i?a(e):e,o.vals_=r,o},_getParamsArray:function(e){var t,n=this.rules?this.rules.normalize_:null;return n=n||this._router.normalizeFn,t=n&&o(n)?n(e,this._getParamsObject(e)):this._getParamsObject(e).vals_},interpolate:function(e){var t=this._router.patternLexer.interpolate(this._pattern,e);if(!this._validateParams(t))throw new Error("Generated string doesn't validate against `Route.rules`.");return t},dispose:function(){this._router.removeRoute(this)},_destroy:function(){this.matched.dispose(),this.switched.dispose(),this.matched=this.switched=this._pattern=this._matchRegexp=null},toString:function(){return'[Route pattern:"'+this._pattern+'", numListeners:'+this.matched.getNumListeners()+"]"}},c.prototype.patternLexer=function(){function e(){var e,t;for(e in d)d.hasOwnProperty(e)&&(t=d[e],t.id="__CR_"+e+"__",t.save="save"in t?t.save.replace("{{id}}",t.id):t.id,t.rRestore=new RegExp(t.id,"g"))}function t(e,t){var n,s=[];for(e.lastIndex=0;n=e.exec(t);)s.push(n[1]);return s}function n(e){return t(p,e)}function s(e){return t(d.OP.rgx,e)}function i(e,t){return e=e||"",e&&(b===g?e=e.replace(c,""):b===m&&(e=e.replace(h,"")),e=r(e,"rgx","save"),e=e.replace(l,"\\$&"),e=r(e,"rRestore","res"),b===g&&(e="\\/?"+e)),b!==f&&(e+="\\/?"),new RegExp("^"+e+"$",t?"i":"")}function r(e,t,n){var s,i;for(i in d)d.hasOwnProperty(i)&&(s=d[i],e=e.replace(s[t],s[n]));return e}function o(e,t,n){var s=t.exec(e);return s&&(s.shift(),n&&(s=u(s))),s}function a(e,t){if("string"!=typeof e)throw new Error("Route pattern should be a string.");var n=function(e,n){var s;if(n="?"===n.substr(0,1)?n.substr(1):n,null!=t[n]){if("object"==typeof t[n]){var i=[];for(var r in t[n])i.push(encodeURI(r+"="+t[n][r]));s="?"+i.join("&")}else s=String(t[n]);if(-1===e.indexOf("*")&&-1!==s.indexOf("/"))throw new Error('Invalid value "'+s+'" for segment "'+e+'".')}else{if(-1!==e.indexOf("{"))throw new Error("The segment "+e+" is required.");s=""}return s};return d.OS.trail||(d.OS.trail=new RegExp("(?:"+d.OS.id+")+$")),e.replace(d.OS.rgx,d.OS.save).replace(p,n).replace(d.OS.trail,"").replace(d.OS.rRestore,"/")}var l=/[\\.+*?\^$\[\](){}\/'#]/g,c=/^\/|\/$/g,h=/\/$/g,p=/(?:\{|:)([^}:]+)(?:\}|:)/g,d={OS:{rgx:/([:}]|\w(?=\/))\/?(:|(?:\{\?))/g,save:"$1{{id}}$2",res:"\\/?"},RS:{rgx:/([:}])\/?(\{)/g,save:"$1{{id}}$2",res:"\\/"},RQ:{rgx:/\{\?([^}]+)\}/g,res:"\\?([^#]+)"},OQ:{rgx:/:\?([^:]+):/g,res:"(?:\\?([^#]*))?"},OR:{rgx:/:([^:]+)\*:/g,res:"(.*)?"},RR:{rgx:/\{([^}]+)\*\}/g,res:"(.+)"},RP:{rgx:/\{([^}]+)\}/g,res:"([^\\/?]+)"},OP:{rgx:/:([^:]+):/g,res:"([^\\/?]+)?/?"}},g=1,f=2,m=3,b=g;return e(),{strict:function(){b=f},loose:function(){b=g},legacy:function(){b=m},getParamIds:n,getOptionalParamsIds:s,getParamValues:o,compilePattern:i,interpolate:a}}(),p};"function"==typeof define&&define.amd?define(["signals"],n):"undefined"!=typeof t&&t.exports?t.exports=n(e("signals")):window.crossroads=n(window.signals)}()},{signals:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/crossroads/node_modules/signals/dist/signals.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/crossroads/node_modules/signals/dist/signals.js":[function(e,t){!function(e){function n(e,t,n,s,i){this._listener=t,this._isOnce=n,this.context=s,this._signal=e,this._priority=i||0}function s(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function i(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){i.prototype.dispatch.apply(e,arguments)}}n.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,s,i){var r,o=this._indexOfListener(e,s);if(-1!==o){if(r=this._bindings[o],r.isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else r=new n(this,e,t,s,i),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,s=this._bindings.length;s--;)if(n=this._bindings[s],n._listener===e&&n.context===t)return s;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return s(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return s(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){s(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){e=this._bindings.slice(),this._shouldPropagate=!0;do n--;while(e[n]&&this._shouldPropagate&&e[n].execute(t)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var r=i;r.Signal=i,"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof t&&t.exports?t.exports=r:e.signals=r}(this)},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/hasher/dist/js/hasher.js":[function(e,t,n){!function(){var s=function(e){var t=function(t){function n(e){return String(e||"").replace(/\W/g,"\\$&")}function s(e){if(!e)return"";var t=new RegExp("^"+n(d.prependHash)+"|"+n(d.appendHash)+"$","g");return e.replace(t,"")}function i(){var e=w.exec(d.getURL()),t=e&&e[1]||"";try{return d.raw?t:decodeURIComponent(t)}catch(n){return t}}function r(){return b?b.contentWindow.frameHash:null}function o(){b=x.createElement("iframe"),b.src="about:blank",b.style.display="none",x.body.appendChild(b)}function a(){if(b&&g!==r()){var e=b.contentWindow.document;e.open(),e.write("<html><head><title>"+x.title+'</title><script type="text/javascript">var frameHash="'+g+'";</script></head><body>&nbsp;</body></html>'),e.close()}}function u(e,t){if(g!==e){var n=g;g=e,k&&(t?b.contentWindow.frameHash=e:a()),d.changed.dispatch(s(e),s(n))}}function l(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)}function h(e){e=Array.prototype.slice.call(arguments);var t=e.join(d.separator);return t=t?d.prependHash+t.replace(E,"")+d.appendHash:t}function p(e){return e=encodeURI(e),D&&S&&(e=e.replace(/\?/,"%3F")),e}var d,g,f,m,b,v,y=25,x=t.document,j=(t.history,e.Signal),w=/#(.*)$/,_=/(\?.*)|(\#.*)/,E=/^\#/,D=!1,M="onhashchange"in t&&7!==x.documentMode,k=D&&!M,S="file:"===location.protocol;return v=k?function(){var e=i(),t=r();t!==g&&t!==e?d.setHash(s(t)):e!==g&&u(e)}:function(){var e=i();e!==g&&u(e)},d={VERSION:"1.2.0",raw:!1,appendHash:"",prependHash:"/",separator:"/",changed:new j,stopped:new j,initialized:new j,init:function(){m||(g=i(),M?l(t,"hashchange",v):(k&&(b||o(),a()),f=setInterval(v,y)),m=!0,d.initialized.dispatch(s(g)))},stop:function(){m&&(M?c(t,"hashchange",v):(clearInterval(f),f=null),m=!1,d.stopped.dispatch(s(g)))},isActive:function(){return m},getURL:function(){return t.location.href},getBaseURL:function(){return d.getURL().replace(_,"")},setHash:function(e){e=h.apply(null,arguments),e!==g&&(u(e),e===g&&(d.raw||(e=p(e)),t.location.hash="#"+e))},replaceHash:function(e){e=h.apply(null,arguments),e!==g&&(u(e,!0),e===g&&(d.raw||(e=p(e)),t.location.replace("#"+e)))},getHash:function(){return s(g)},getHashAsArray:function(){return d.getHash().split(d.separator)},dispose:function(){d.stop(),d.initialized.dispose(),d.stopped.dispose(),d.changed.dispose(),b=d=t.hasher=null},toString:function(){return'[hasher version="'+d.VERSION+'" hash="'+d.getHash()+'"]'}},d.initialized.memorize=!0,d}(window);return t};"function"==typeof define&&define.amd?define(["signals"],s):"object"==typeof n?t.exports=s(e("signals")):window.hasher=s(window.signals)}()},{signals:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/hasher/node_modules/signals/dist/signals.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/hasher/node_modules/signals/dist/signals.js":[function(e,t){t.exports=e("/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/crossroads/node_modules/signals/dist/signals.js")},{"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/crossroads/node_modules/signals/dist/signals.js":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/crossroads/node_modules/signals/dist/signals.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/index.js":[function(e,t){function n(e){if(e)throw e
}function s(e,t){l||(a(".npm-scb-wrap {\n  font-family: 'Open Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\n  font-weight: 200;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 999;\n}\n\n.npm-scb-wrap a {\n  text-decoration: none;\n  color: #000;\n}\n.npm-scb-white\n.npm-scb-wrap a {\n  color: #fff;\n}\n\n.npm-scb-inner {\n  position: absolute;\n  top: -120px; left: 0;\n  padding: 8px;\n  width: 100%;\n  height: 150px;\n  z-index: 2;\n  -webkit-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n     -moz-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n      -ms-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n       -o-transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n          transition: width 0.5s cubic-bezier(1, 0, 0, 1), top 0.5s;\n}\n.npm-scb-wrap:hover\n.npm-scb-inner {\n  top: 0;\n}\n\n.npm-scb-artwork {\n  position: absolute;\n  top: 16px; left: 16px;\n  width: 104px; height: 104px;\n  box-shadow: 0 0 8px -3px #000;\n  outline: 1px solid rgba(0,0,0,0.1);\n  z-index: 2;\n}\n.npm-scb-white\n.npm-scb-artwork {\n  outline: 1px solid rgba(255,255,255,0.1);\n  box-shadow: 0 0 10px -2px rgba(255,255,255,0.9);\n}\n\n.npm-scb-info {\n  position: absolute;\n  top: 16px;\n  left: 120px;\n  width: 300px;\n  z-index: 1;\n}\n\n.npm-scb-info > a {\n  display: block;\n}\n\n.npm-scb-now-playing {\n  font-size: 12px;\n  line-height: 12px;\n  position: absolute;\n  width: 500px;\n  z-index: 1;\n  padding: 15px 0;\n  top: 0; left: 138px;\n  opacity: 1;\n  -webkit-transition: opacity 0.25s;\n     -moz-transition: opacity 0.25s;\n      -ms-transition: opacity 0.25s;\n       -o-transition: opacity 0.25s;\n          transition: opacity 0.25s;\n}\n\n.npm-scb-wrap:hover\n.npm-scb-now-playing {\n  opacity: 0;\n}\n\n.npm-scb-white\n.npm-scb-now-playing {\n  color: #fff;\n}\n.npm-scb-now-playing > a {\n  font-weight: bold;\n}\n\n.npm-scb-info > a > p {\n  margin: 0;\n  padding-bottom: 0.25em;\n  line-height: 1.35em;\n  margin-left: 1em;\n  font-size: 1em;\n}\n\n.npm-scb-title {\n  font-weight: bold;\n}\n\n.npm-scb-icon {\n  position: absolute;\n  top: 120px;\n  padding-top: 0.75em;\n  left: 16px;\n}\n"),l=!0),h||(h=o.compile('<div class="npm-scb-wrap">\n  <div class="npm-scb-inner">\n    <a target="_blank" href="{{urls.song}}">\n      <img class="npm-scb-icon" src="{{icon}}">\n      <img class="npm-scb-artwork" src="{{artwork}}">\n    </a>\n    <div class="npm-scb-info">\n      <a target="_blank" href="{{urls.song}}">\n        <p class="npm-scb-title">{{title}}</p>\n      </a>\n      <a target="_blank" href="{{urls.artist}}">\n        <p class="npm-scb-artist">{{artist}}</p>\n      </a>\n    </div>\n  </div>\n  <div class="npm-scb-now-playing">\n    Now Playing:\n    <a href="{{urls.song}}">{{title}}</a>\n    by\n    <a href="{{urls.artist}}">{{artist}}</a>\n  </div>\n</div>\n')),!c&&e.getFonts&&(r.add({"Open Sans":[300,600]}),c=!0),e=e||{},t=t||n;var s=e.el||document.createElement("div"),p="dark"in e&&!e.dark?"white":"black",d=e.client_id,g=e.song;return i(d,g,function(e,n){if(e)return t(e);if("track"!==n.kind)throw new Error("soundcloud-badge only supports individual tracks at the moment");s.classList["black"===p?"remove":"add"]("npm-scb-white"),s.innerHTML=h({artwork:n.artwork_url||n.user.avatar_url,artist:n.user.username,title:n.title,icon:u[p],urls:{song:n.permalink_url,artist:n.user.permalink_url}}),document.body.appendChild(s),t(null,n.stream_url+"?client_id="+d,n,s)}),s}var i=e("soundcloud-resolve"),r=e("google-fonts"),o=e("minstache"),a=e("insert-css"),u=(e("fs"),{black:"http://developers.soundcloud.com/assets/logo_black.png",white:"http://developers.soundcloud.com/assets/logo_white.png"});t.exports=s;var l=!1,c=!1,h=null},{fs:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/lib/_empty.js","google-fonts":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/google-fonts/index.js","insert-css":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/insert-css/index.js",minstache:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/minstache/index.js","soundcloud-resolve":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/browser.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/google-fonts/index.js":[function(e,t){function n(e){var t=i(e);return'<link href="'+t+'" rel="stylesheet" type="text/css">'}function s(e){var t=i(e),n=document.createElement("link");return n.setAttribute("href",t),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n}function i(e){var t=Object.keys(e).map(function(t){var n=e[t];return t=t.replace(/\s+/,"+"),"boolean"==typeof n?t:t+":"+o(n).join(",")}).join("|");return"http://fonts.googleapis.com/css?family="+t}function r(e){var t=s(e);return document.head.appendChild(t),t}function o(e){return Array.isArray(e)?e:[e]}t.exports=n,t.exports.add=r},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/insert-css/index.js":[function(e,t){var n=[];t.exports=function(e){if(!(n.indexOf(e)>=0)){n.push(e);var t=document.createElement("style"),s=document.createTextNode(e);t.appendChild(s),document.head.childNodes.length?document.head.insertBefore(t,document.head.childNodes[0]):document.head.appendChild(t)}}},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/minstache/index.js":[function(e,t,n){function s(e,t){t=t||{};var n=i(e);return n(t)}function i(e){for(var t,n=[],s=o(e),i=0;i<s.length;++i)if(t=s[i],i%2==0)n.push('"'+t.replace(/"/g,'\\"')+'"');else switch(t[0]){case"/":t=t.slice(1),n.push(") + ");break;case"^":t=t.slice(1),r(t),n.push(' + section(obj, "'+t+'", true, ');break;case"#":t=t.slice(1),r(t),n.push(' + section(obj, "'+t+'", false, ');break;case"!":t=t.slice(1),r(t),n.push(" + obj."+t+" + ");break;default:r(t),n.push(" + escape(obj."+t+") + ")}return n="\n"+a(l.toString())+";\n\n"+a(u.toString())+";\n\n  return "+n.join("").replace(/\n/g,"\\n"),new Function("obj",n)}function r(e){if(!e.match(/^[\w.]+$/))throw new Error('invalid property "'+e+'"')}function o(e){return e.split(/\{\{|\}\}/)}function a(e){return e.replace(/^/gm,"  ")}function u(e,t,n,s){var i=e[t];return"function"==typeof i?i.call(e,s):(n&&(i=!i),i?s:"")}function l(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}n=t.exports=s,n.compile=i},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/browser.js":[function(e,t){function n(e,t,n){var r="http://api.soundcloud.com/resolve.json?"+s.stringify({url:t,client_id:e});i({uri:r,method:"GET"},function(e,t,s){if(e)return n(e);try{s=JSON.parse(s)}catch(i){return n(i)}return s.errors?n(new Error(s.errors[0].error_message)):n(null,s)})}var s=e("querystring"),i=e("xhr");t.exports=n},{querystring:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/browserify/node_modules/querystring-es3/index.js",xhr:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/index.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/index.js":[function(e,t){function n(e,t){function n(){4===c.readyState&&i()}function i(){var e=null,n=c.statusCode=c.status,s=c.body=c.response||c.responseText||c.responseXML;if(0===n||n>=400&&600>n){var i=c.responseText||o[String(c.status).charAt(0)];e=new Error(i),e.statusCode=c.status}if(f)try{s=c.body=JSON.parse(s)}catch(r){}t(e,c,s)}function l(e){t(e,c)}"string"==typeof e&&(e={uri:e}),e=e||{},t=r(t);var c;c=e.cors?new u:new a;var h=c.url=e.uri,p=c.method=e.method||"GET",d=e.body||e.data,g=c.headers=e.headers||{},f=!1;return"json"in e&&(f=!0,g["Content-Type"]="application/json",d=JSON.stringify(e.json)),c.onreadystatechange=n,c.onload=i,c.onerror=l,c.onprogress=function(){},c.ontimeout=s,c.open(p,h),e.cors&&(c.withCredentials=!0),c.timeout="timeout"in e?e.timeout:5e3,c.setRequestHeader&&Object.keys(g).forEach(function(e){c.setRequestHeader(e,g[e])}),c.send(d),c}function s(){}var i=e("global/window"),r=e("once"),o={0:"Internal XMLHttpRequest Error",4:"4xx Client Error",5:"5xx Server Error"},a=i.XMLHttpRequest||s,u="withCredentials"in new a?i.XMLHttpRequest:i.XDomainRequest;t.exports=n},{"global/window":"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/node_modules/global/window.js",once:"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/node_modules/once/once.js"}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/node_modules/global/window.js":[function(e,t){(function(e){t.exports="undefined"!=typeof window?window:"undefined"!=typeof e?e:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/soundcloud-badge/node_modules/soundcloud-resolve/node_modules/xhr/node_modules/once/once.js":[function(e,t){function n(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}t.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],"/Users/gregtatum/Dropbox/greg-sites/polar/node_modules/underscore/underscore.js":[function(e,t,n){(function(){var e=this,s=e._,i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,u=i.slice,l=i.concat,c=r.toString,h=r.hasOwnProperty,p=Array.isArray,d=Object.keys,g=o.bind,f=function(e){return e instanceof f?e:this instanceof f?(this._wrapped=e,void 0):new f(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=f),n._=f):e._=f,f.VERSION="1.7.0";var m=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,s){return e.call(t,n,s)};case 3:return function(n,s,i){return e.call(t,n,s,i)};case 4:return function(n,s,i,r){return e.call(t,n,s,i,r)}}return function(){return e.apply(t,arguments)}};f.iteratee=function(e,t,n){return null==e?f.identity:f.isFunction(e)?m(e,t,n):f.isObject(e)?f.matches(e):f.property(e)},f.each=f.forEach=function(e,t,n){if(null==e)return e;t=m(t,n);var s,i=e.length;if(i===+i)for(s=0;i>s;s++)t(e[s],s,e);else{var r=f.keys(e);for(s=0,i=r.length;i>s;s++)t(e[r[s]],r[s],e)}return e},f.map=f.collect=function(e,t,n){if(null==e)return[];t=f.iteratee(t,n);for(var s,i=e.length!==+e.length&&f.keys(e),r=(i||e).length,o=Array(r),a=0;r>a;a++)s=i?i[a]:a,o[a]=t(e[s],s,e);return o};var b="Reduce of empty array with no initial value";f.reduce=f.foldl=f.inject=function(e,t,n,s){null==e&&(e=[]),t=m(t,s,4);var i,r=e.length!==+e.length&&f.keys(e),o=(r||e).length,a=0;if(arguments.length<3){if(!o)throw new TypeError(b);n=e[r?r[a++]:a++]}for(;o>a;a++)i=r?r[a]:a,n=t(n,e[i],i,e);return n},f.reduceRight=f.foldr=function(e,t,n,s){null==e&&(e=[]),t=m(t,s,4);var i,r=e.length!==+e.length&&f.keys(e),o=(r||e).length;if(arguments.length<3){if(!o)throw new TypeError(b);n=e[r?r[--o]:--o]}for(;o--;)i=r?r[o]:o,n=t(n,e[i],i,e);return n},f.find=f.detect=function(e,t,n){var s;return t=f.iteratee(t,n),f.some(e,function(e,n,i){return t(e,n,i)?(s=e,!0):void 0}),s},f.filter=f.select=function(e,t,n){var s=[];return null==e?s:(t=f.iteratee(t,n),f.each(e,function(e,n,i){t(e,n,i)&&s.push(e)}),s)},f.reject=function(e,t,n){return f.filter(e,f.negate(f.iteratee(t)),n)},f.every=f.all=function(e,t,n){if(null==e)return!0;t=f.iteratee(t,n);var s,i,r=e.length!==+e.length&&f.keys(e),o=(r||e).length;for(s=0;o>s;s++)if(i=r?r[s]:s,!t(e[i],i,e))return!1;return!0},f.some=f.any=function(e,t,n){if(null==e)return!1;t=f.iteratee(t,n);var s,i,r=e.length!==+e.length&&f.keys(e),o=(r||e).length;for(s=0;o>s;s++)if(i=r?r[s]:s,t(e[i],i,e))return!0;return!1},f.contains=f.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=f.values(e)),f.indexOf(e,t)>=0)},f.invoke=function(e,t){var n=u.call(arguments,2),s=f.isFunction(t);return f.map(e,function(e){return(s?t:e[t]).apply(e,n)})},f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matches(t))},f.findWhere=function(e,t){return f.find(e,f.matches(t))},f.max=function(e,t,n){var s,i,r=-1/0,o=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:f.values(e);for(var a=0,u=e.length;u>a;a++)s=e[a],s>r&&(r=s)}else t=f.iteratee(t,n),f.each(e,function(e,n,s){i=t(e,n,s),(i>o||i===-1/0&&r===-1/0)&&(r=e,o=i)});return r},f.min=function(e,t,n){var s,i,r=1/0,o=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:f.values(e);for(var a=0,u=e.length;u>a;a++)s=e[a],r>s&&(r=s)}else t=f.iteratee(t,n),f.each(e,function(e,n,s){i=t(e,n,s),(o>i||1/0===i&&1/0===r)&&(r=e,o=i)});return r},f.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:f.values(e),s=n.length,i=Array(s),r=0;s>r;r++)t=f.random(0,r),t!==r&&(i[r]=i[t]),i[t]=n[r];return i},f.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=f.values(e)),e[f.random(e.length-1)]):f.shuffle(e).slice(0,Math.max(0,t))},f.sortBy=function(e,t,n){return t=f.iteratee(t,n),f.pluck(f.map(e,function(e,n,s){return{value:e,index:n,criteria:t(e,n,s)}}).sort(function(e,t){var n=e.criteria,s=t.criteria;if(n!==s){if(n>s||void 0===n)return 1;if(s>n||void 0===s)return-1}return e.index-t.index}),"value")};var v=function(e){return function(t,n,s){var i={};return n=f.iteratee(n,s),f.each(t,function(s,r){var o=n(s,r,t);e(i,s,o)}),i}};f.groupBy=v(function(e,t,n){f.has(e,n)?e[n].push(t):e[n]=[t]}),f.indexBy=v(function(e,t,n){e[n]=t}),f.countBy=v(function(e,t,n){f.has(e,n)?e[n]++:e[n]=1}),f.sortedIndex=function(e,t,n,s){n=f.iteratee(n,s,1);for(var i=n(t),r=0,o=e.length;o>r;){var a=r+o>>>1;n(e[a])<i?r=a+1:o=a}return r},f.toArray=function(e){return e?f.isArray(e)?u.call(e):e.length===+e.length?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:e.length===+e.length?e.length:f.keys(e).length},f.partition=function(e,t,n){t=f.iteratee(t,n);var s=[],i=[];return f.each(e,function(e,n,r){(t(e,n,r)?s:i).push(e)}),[s,i]},f.first=f.head=f.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:u.call(e,0,t)},f.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},f.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},f.rest=f.tail=f.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},f.compact=function(e){return f.filter(e,f.identity)};var y=function(e,t,n,s){if(t&&f.every(e,f.isArray))return l.apply(s,e);for(var i=0,r=e.length;r>i;i++){var o=e[i];f.isArray(o)||f.isArguments(o)?t?a.apply(s,o):y(o,t,n,s):n||s.push(o)}return s};f.flatten=function(e,t){return y(e,t,!1,[])},f.without=function(e){return f.difference(e,u.call(arguments,1))},f.uniq=f.unique=function(e,t,n,s){if(null==e)return[];f.isBoolean(t)||(s=n,n=t,t=!1),null!=n&&(n=f.iteratee(n,s));for(var i=[],r=[],o=0,a=e.length;a>o;o++){var u=e[o];if(t)o&&r===u||i.push(u),r=u;else if(n){var l=n(u,o,e);f.indexOf(r,l)<0&&(r.push(l),i.push(u))}else f.indexOf(i,u)<0&&i.push(u)}return i},f.union=function(){return f.uniq(y(arguments,!0,!0,[]))},f.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,s=0,i=e.length;i>s;s++){var r=e[s];if(!f.contains(t,r)){for(var o=1;n>o&&f.contains(arguments[o],r);o++);o===n&&t.push(r)}}return t},f.difference=function(e){var t=y(u.call(arguments,1),!0,!0,[]);return f.filter(e,function(e){return!f.contains(t,e)})},f.zip=function(e){if(null==e)return[];for(var t=f.max(arguments,"length").length,n=Array(t),s=0;t>s;s++)n[s]=f.pluck(arguments,s);return n},f.object=function(e,t){if(null==e)return{};for(var n={},s=0,i=e.length;i>s;s++)t?n[e[s]]=t[s]:n[e[s][0]]=e[s][1];return n},f.indexOf=function(e,t,n){if(null==e)return-1;var s=0,i=e.length;if(n){if("number"!=typeof n)return s=f.sortedIndex(e,t),e[s]===t?s:-1;s=0>n?Math.max(0,i+n):n}for(;i>s;s++)if(e[s]===t)return s;return-1},f.lastIndexOf=function(e,t,n){if(null==e)return-1;var s=e.length;for("number"==typeof n&&(s=0>n?s+n+1:Math.min(s,n+1));--s>=0;)if(e[s]===t)return s;return-1},f.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var s=Math.max(Math.ceil((t-e)/n),0),i=Array(s),r=0;s>r;r++,e+=n)i[r]=e;return i};var x=function(){};f.bind=function(e,t){var n,s;if(g&&e.bind===g)return g.apply(e,u.call(arguments,1));if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");return n=u.call(arguments,2),s=function(){if(!(this instanceof s))return e.apply(t,n.concat(u.call(arguments)));x.prototype=e.prototype;var i=new x;x.prototype=null;var r=e.apply(i,n.concat(u.call(arguments)));return f.isObject(r)?r:i}},f.partial=function(e){var t=u.call(arguments,1);return function(){for(var n=0,s=t.slice(),i=0,r=s.length;r>i;i++)s[i]===f&&(s[i]=arguments[n++]);for(;n<arguments.length;)s.push(arguments[n++]);return e.apply(this,s)}},f.bindAll=function(e){var t,n,s=arguments.length;if(1>=s)throw new Error("bindAll must be passed function names");for(t=1;s>t;t++)n=arguments[t],e[n]=f.bind(e[n],e);return e},f.memoize=function(e,t){var n=function(s){var i=n.cache,r=t?t.apply(this,arguments):s;return f.has(i,r)||(i[r]=e.apply(this,arguments)),i[r]};return n.cache={},n},f.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},f.defer=function(e){return f.delay.apply(f,[e,1].concat(u.call(arguments,1)))},f.throttle=function(e,t,n){var s,i,r,o=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:f.now(),o=null,r=e.apply(s,i),o||(s=i=null)};return function(){var l=f.now();a||n.leading!==!1||(a=l);var c=t-(l-a);return s=this,i=arguments,0>=c||c>t?(clearTimeout(o),o=null,a=l,r=e.apply(s,i),o||(s=i=null)):o||n.trailing===!1||(o=setTimeout(u,c)),r}},f.debounce=function(e,t,n){var s,i,r,o,a,u=function(){var l=f.now()-o;t>l&&l>0?s=setTimeout(u,t-l):(s=null,n||(a=e.apply(r,i),s||(r=i=null)))};return function(){r=this,i=arguments,o=f.now();var l=n&&!s;return s||(s=setTimeout(u,t)),l&&(a=e.apply(r,i),r=i=null),a}},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,s=e[t].apply(this,arguments);n--;)s=e[n].call(this,s);return s}},f.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},f.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},f.once=f.partial(f.before,2),f.keys=function(e){if(!f.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)f.has(e,n)&&t.push(n);return t},f.values=function(e){for(var t=f.keys(e),n=t.length,s=Array(n),i=0;n>i;i++)s[i]=e[t[i]];return s},f.pairs=function(e){for(var t=f.keys(e),n=t.length,s=Array(n),i=0;n>i;i++)s[i]=[t[i],e[t[i]]];return s},f.invert=function(e){for(var t={},n=f.keys(e),s=0,i=n.length;i>s;s++)t[e[n[s]]]=n[s];return t},f.functions=f.methods=function(e){var t=[];for(var n in e)f.isFunction(e[n])&&t.push(n);return t.sort()},f.extend=function(e){if(!f.isObject(e))return e;for(var t,n,s=1,i=arguments.length;i>s;s++){t=arguments[s];for(n in t)h.call(t,n)&&(e[n]=t[n])}return e},f.pick=function(e,t,n){var s,i={};if(null==e)return i;if(f.isFunction(t)){t=m(t,n);for(s in e){var r=e[s];t(r,s,e)&&(i[s]=r)}}else{var o=l.apply([],u.call(arguments,1));e=new Object(e);for(var a=0,c=o.length;c>a;a++)s=o[a],s in e&&(i[s]=e[s])}return i},f.omit=function(e,t,n){if(f.isFunction(t))t=f.negate(t);else{var s=f.map(l.apply([],u.call(arguments,1)),String);t=function(e,t){return!f.contains(s,t)}}return f.pick(e,t,n)},f.defaults=function(e){if(!f.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var s=arguments[t];for(var i in s)void 0===e[i]&&(e[i]=s[i])}return e},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e};var j=function(e,t,n,s){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]===e)return s[r]===t;var o=e.constructor,a=t.constructor;if(o!==a&&"constructor"in e&&"constructor"in t&&!(f.isFunction(o)&&o instanceof o&&f.isFunction(a)&&a instanceof a))return!1;n.push(e),s.push(t);var u,l;if("[object Array]"===i){if(u=e.length,l=u===t.length)for(;u--&&(l=j(e[u],t[u],n,s)););}else{var h,p=f.keys(e);if(u=p.length,l=f.keys(t).length===u)for(;u--&&(h=p[u],l=f.has(t,h)&&j(e[h],t[h],n,s)););}return n.pop(),s.pop(),l};f.isEqual=function(e,t){return j(e,t,[],[])},f.isEmpty=function(e){if(null==e)return!0;if(f.isArray(e)||f.isString(e)||f.isArguments(e))return 0===e.length;for(var t in e)if(f.has(e,t))return!1;return!0},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=p||function(e){return"[object Array]"===c.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){f["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return f.has(e,"callee")}),"function"!=typeof/./&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&e!==+e},f.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===c.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){return null!=e&&h.call(e,t)},f.noConflict=function(){return e._=s,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(e){return function(t){return t[e]}},f.matches=function(e){var t=f.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var s=0;n>s;s++){var i=t[s],r=i[0];if(i[1]!==e[r]||!(r in e))return!1}return!0}},f.times=function(e,t,n){var s=Array(Math.max(0,e));t=m(t,n,1);for(var i=0;e>i;i++)s[i]=t(i);return s},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var w={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=f.invert(w),E=function(e){var t=function(t){return e[t]},n="(?:"+f.keys(e).join("|")+")",s=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,s.test(e)?e.replace(i,t):e}};f.escape=E(w),f.unescape=E(_),f.result=function(e,t){if(null==e)return void 0;var n=e[t];return f.isFunction(n)?e[t]():n};var D=0;f.uniqueId=function(e){var t=++D+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,k={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},S=/\\|'|\r|\n|\u2028|\u2029/g,R=function(e){return"\\"+k[e]};f.template=function(e,t,n){!t&&n&&(t=n),t=f.defaults({},t,f.templateSettings);var s=RegExp([(t.escape||M).source,(t.interpolate||M).source,(t.evaluate||M).source].join("|")+"|$","g"),i=0,r="__p+='";e.replace(s,function(t,n,s,o,a){return r+=e.slice(i,a).replace(S,R),i=a+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":s?r+="'+\n((__t=("+s+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),t}),r+="';\n",t.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(t.variable||"obj","_",r)}catch(a){throw a.source=r,a}var u=function(e){return o.call(this,e,f)},l=t.variable||"obj";return u.source="function("+l+"){\n"+r+"}",u},f.chain=function(e){var t=f(e);return t._chain=!0,t};var C=function(e){return this._chain?f(e).chain():e};f.mixin=function(e){f.each(f.functions(e),function(t){var n=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),C.call(this,n.apply(f,e))}})},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];f.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],C.call(this,n)}}),f.each(["concat","join","slice"],function(e){var t=i[e];f.prototype[e]=function(){return C.call(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}).call(this)},{}]},{},["./js/index.js"]);